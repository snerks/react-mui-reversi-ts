(this["webpackJsonpreact-mui-reversi-ts"]=this["webpackJsonpreact-mui-reversi-ts"]||[]).push([[0],{215:function(e,t,a){e.exports=a(419)},414:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);a(216),a(225);var n=a(0),i=a.n(n),r=a(60),l=a.n(r),o=(a(414),a(55)),c=a(212),s=a(446),m=a(422),u=a(443),d=a(439),v=a(440),f=a(441),h=a(447),E=a(210),p=a.n(E),g=a(423),b=Object(g.a)((function(){return{typographyStyles:{flex:1}}})),y=function(e){var t=e.isDarkMode,a=e.setIsDarkMode,n=b();return i.a.createElement(d.a,{position:"static"},i.a.createElement(v.a,null,i.a.createElement(f.a,{className:n.typographyStyles},"Material UI Reversi Sample"),i.a.createElement(m.a,{title:"use this switch for dark/light mode"},i.a.createElement(p.a,null)),i.a.createElement(h.a,{checked:t,onChange:function(){return a(!t)}})))},x=a(100),k=a(101),w=a(103),O=a(102),j=a(213),C=a(105),S=a(136),I=a(442),W=a(449),z=a(444),B=a(445),P=a(448),M=a(211),N=a.n(M),D=function(e){Object(w.a)(a,e);var t=Object(O.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props,t=e.row,a=e.column,i=e.isWhite,r=e.handleClick,l=e.isValid,o=e.currentPlayerIsWhite,c=void 0!==i,s=c?i?"white":"black":void 0,m="\xa0";!c&&l&&(m="\u2713",s=o?"white":"black");var u=n.createElement("span",{style:{fontSize:"24px",color:s}},m),d=c?n.createElement(N.a,{style:{color:s}}):u;return n.createElement("div",{onClick:c?function(){}:function(){return r(t,a)},style:{cursor:l?"pointer":"not-allowed"}},d)}}]),a}(n.Component),R=Object(I.a)((function(e){var t;return Object(W.a)({root:{margin:"15px 0"},cell:{display:"flex",justifyContent:"center",backgroundColor:"green",height:"100%",alignItems:"center"},token:(t={padding:e.spacing(1)},Object(S.a)(t,e.breakpoints.up("xs"),{fontSize:17}),Object(S.a)(t,e.breakpoints.up("md"),{fontSize:40}),t)})})),J=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0,!1,void 0,void 0,void 0,void 0,void 0,void 0,!1,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],V=function(e){var t=e.initialBoard,a=R(),r=Object(n.useState)(Array.from(t).map((function(e,t){return t}))),l=Object(o.a)(r,1)[0],c=Object(n.useState)(t),s=Object(o.a)(c,2),m=s[0],d=s[1],v=Object(n.useState)(!1),f=Object(o.a)(v,2),h=f[0],E=f[1],p=Object(n.useState)(0),g=Object(o.a)(p,2),b=g[0],y=g[1];console.log("currentPlayerIsWhite",h),Object(n.useEffect)((function(){console.log("useEffect : currentPlayerIsWhite : ",h),h&&M()}),[h]);var x=function(e,t){return 8*e+t},k=function(e,t,a,n){var i=e+a,r=t+n;if(!(i>-1&&i<8&&(r>-1&&r<8)))return null;var l=x(i,r);return{status:m[l],index:l}},w=function(e,t){var a=[];return a.push(O(e,t,-1,0)),a.push(O(e,t,-1,1)),a.push(O(e,t,0,1)),a.push(O(e,t,1,1)),a.push(O(e,t,1,0)),a.push(O(e,t,1,-1)),a.push(O(e,t,0,-1)),a.push(O(e,t,-1,-1)),a},O=function(e,t,a,n){var i,r={items:[]},l=e,o=t;do{(i=k(l,o,a,n))&&(r.items.push(i),l+=a,o+=n)}while(i);return r},S=function(e,t){var a,n=e.map((function(e,t){return void 0===e?{status:e,index:t}:{status:e,index:-1}})).filter((function(e){return e.index>-1})),i=[],r=Object(C.a)(n);try{for(r.s();!(a=r.n()).done;){var l,o=a.value,c=o.index%8,s=(o.index-c)/8,m=w(s,c),u=Object(C.a)(m);try{for(u.s();!(l=u.n()).done;){var d=l.value;if(d.items.length)for(var v=0,f=0;f<d.items.length;f++){var h=d.items[f].status,E=void 0!==h;if(!E)break;if(!(E&&t?!h:h)){v>0&&i.push(o);break}v++}}}catch(p){u.e(p)}finally{u.f()}}}catch(p){r.e(p)}finally{r.f()}return i.map((function(e){return e.index}))},I=function(e,t){console.log("handleCellClick : Start",e,t);var a=x(e,t);console.log("handleCellClick : currentPlayerIsWhite",h);for(var n=function(e,t){var a,n=[],i=t%8,r=w((t-i)/8,i),l=Object(C.a)(r);try{for(l.s();!(a=l.n()).done;){var o=a.value;if(o.items.length)for(var c=0,s=[],m=0;m<o.items.length;m++){var u=o.items[m],d=u.status,v=void 0!==d;if(!v)break;if(!(v&&e?!d:d)){c>0&&(n=[].concat(Object(j.a)(n),s));break}c++,s.push(u.index)}}}catch(f){l.e(f)}finally{l.f()}return n}(h,a),i=[],r=0;r<m.length;r++)if(r===a)i.push(h);else{var l=m[r];n.indexOf(r)>-1?i.push(h):i.push(l)}d(i),E(!h),y(0),console.log("handleCellClick : End",e,t)},W=function(){E(!h),y(b+1)},M=function(){var e=S(m,h);if(0!==e.length){var t=function(e){var t=e%8;return{row:(e-t)/8,column:t}}(e[0]),a=t.row,n=t.column;I(a,n)}else W()},N=h?"white":"black",V=i.a.createElement("span",{style:{display:"inline-block",width:"1em",height:"1em",borderRadius:"0.5em",margin:"0.125em",backgroundColor:N}}),q=m.filter((function(e){return void 0===e})),A=m.filter((function(e){return void 0!==e&&e})),F=m.filter((function(e){return void 0!==e&&!e})),H=0===q.length||b>1,U="";if(H){var $=A.length,G=F.length;U=$===G?"Neither: It was a Draw.":$>G?"White":"Black"}var K=S(m,h);console.log("currentPlayerIsWhite",h),console.log("validCells",K);var L=i.a.createElement("div",{className:"row",style:{background:"green",padding:15}},H&&i.a.createElement(u.a,{item:!0,container:!0},i.a.createElement(u.a,{item:!0,xs:1,sm:2}),i.a.createElement(u.a,{item:!0,xs:10,sm:8,alignItems:"center",alignContent:"space-between",container:!0},i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:U}},i.a.createElement("span",null,"Winner is ",U,"!")))),i.a.createElement(u.a,{item:!0,xs:1,sm:2})),H&&b>1&&i.a.createElement(u.a,{item:!0,container:!0},i.a.createElement(u.a,{item:!0,xs:1,sm:2}),i.a.createElement(u.a,{item:!0,xs:10,sm:8,alignItems:"center",alignContent:"space-between",container:!0},i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:U}},i.a.createElement("span",null,"Both players have passed - game finished early")))),i.a.createElement(u.a,{item:!0,xs:1,sm:2})),!H&&i.a.createElement(u.a,{item:!0,container:!0},i.a.createElement(u.a,{item:!0,xs:1,sm:2}),i.a.createElement(u.a,{item:!0,xs:10,sm:8,alignItems:"center",alignContent:"space-between",container:!0},i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:N}},i.a.createElement("span",null,"Current Player: "))),i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:N}},i.a.createElement("span",null,V)))),i.a.createElement(u.a,{item:!0,xs:1,sm:2})),i.a.createElement(u.a,{item:!0,container:!0},i.a.createElement(u.a,{item:!0,xs:1,sm:2}),i.a.createElement(u.a,{item:!0,xs:10,sm:8,alignItems:"center",alignContent:"space-between",container:!0},i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:"white"}},i.a.createElement("div",null,"White:"))),i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:"white"}},i.a.createElement("div",null,i.a.createElement("span",null,A.length))))),i.a.createElement(u.a,{item:!0,xs:1,sm:2})),i.a.createElement(u.a,{item:!0,container:!0},i.a.createElement(u.a,{item:!0,xs:1,sm:2}),i.a.createElement(u.a,{item:!0,xs:10,sm:8,alignItems:"center",alignContent:"space-between",container:!0},i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:"black"}},i.a.createElement("div",null,"Black:"))),i.a.createElement(u.a,{item:!0},i.a.createElement("div",{style:{fontSize:"20px",color:"black"}},i.a.createElement("div",null,i.a.createElement("span",null,F.length))))),i.a.createElement(u.a,{item:!0,xs:1,sm:2})),i.a.createElement(u.a,{item:!0,container:!0},i.a.createElement(u.a,{item:!0,xs:1,sm:2}),i.a.createElement(u.a,{item:!0,xs:10,sm:8,alignItems:"center",alignContent:"space-between",container:!0},i.a.createElement(z.a,{size:"small",variant:"contained",color:"primary",fullWidth:!0,style:{margin:3},onClick:function(){return d(J),E(!1),void y(0)}},"Restart"),!H&&i.a.createElement(i.a.Fragment,null,i.a.createElement(z.a,{size:"small",variant:"contained",color:"default",fullWidth:!0,style:{margin:3,cursor:0===K.length?"not-allowed":"auto"},disabled:0===K.length,onClick:function(){return M()}},"Select Random Cell"),i.a.createElement(z.a,{size:"small",variant:"contained",color:"default",fullWidth:!0,style:{margin:3},onClick:function(){return W()}},0===K.length&&i.a.createElement("span",{style:{color:"black"}},"No valid moves: "),i.a.createElement("span",null,"Pass")))),i.a.createElement(u.a,{item:!0,xs:1,sm:2})));return i.a.createElement("div",{className:a.root},i.a.createElement(B.a,{cols:8,cellHeight:"auto"},l.map((function(e){var t=Math.floor(e/8),n=e%8,r=K.indexOf(e)>-1;return i.a.createElement(P.a,{key:e,cols:1},i.a.createElement("div",{className:a.cell},i.a.createElement(D,{row:t,column:n,isWhite:m[e],handleClick:r?function(e,t){return I(e,t)}:function(){},isValid:r,currentPlayerIsWhite:h})))}))),i.a.createElement("br",null),L)},q=function(e){Object(w.a)(a,e);var t=Object(O.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){return n.createElement(V,{initialBoard:J})}}]),a}(n.Component);var A=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(c.a)({palette:{type:a?"dark":"light"}});return i.a.createElement(s.a,{theme:l},i.a.createElement(m.a,{elevation:0,square:!0,style:{height:"100%"}},i.a.createElement("div",{style:{paddingBottom:100}},i.a.createElement(u.a,{container:!0,direction:"column"},i.a.createElement(u.a,{item:!0},i.a.createElement(y,{isDarkMode:a,setIsDarkMode:r})),i.a.createElement(u.a,{item:!0,container:!0},i.a.createElement(u.a,{item:!0,xs:1,sm:2}),i.a.createElement(u.a,{item:!0,xs:10,sm:8},i.a.createElement(q,null)),i.a.createElement(u.a,{item:!0,xs:1,sm:2}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[215,1,2]]]);
//# sourceMappingURL=main.63f56def.chunk.js.map